<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11-11</title>
</head>
<!-- <body onload="init()">
    <h3> 마우스를 누른 채 드래깅하여 그림 그려 보세요</h3>
    <hr>

    <canvas id="myCanvas" style="background-color:aliceblue" width="400" height="300"></canvas>
    
    <script>
    let canvas, context;
    function init() {
    canvas = document.getElementByld("myCanvas");
    context = canvas.getContext("2d");

    context.lineWidth = 2;
    context.strokeStyle = "pink";

    //e는 MouseEvent 객체
    canvas.addEventListener("mousemove", function (e) { move(e) }, false);
    canvas.addEventListener("mousemove", function (e) { down(e) }, false);
    canvas.addEventListener("mousemove", function (e) { up(e) }, false);
    canvas.addEventListener("mousemove", function (e) { out(e) }, false);
    }
    
    let startX=0, startY=0; // 드래깅동안, 처음 마우스가 눌러진 좌표
    let dragging=false;
    function draw(curX, curY) {
        context.beginPath();
        context.moveTo(startX, startY);
        context.lineTo(curX, curY);
        context.stroke();
    }

    function down(e) {
    startX = e.offsetX; startY = e.offsetY; dragging = true;
    }

    function up(e) { dragging = false; }
    function move(e) {
        if(!dragging) return; // 마우스가 눌러지지 않았으면 리턴
        let curX = e.offsetX, curY = e.offsetY;
        draw(curX, curY);
        startX = curX; startY = curY;
    }

    function out(e) { dragging = false; }
 -->

 <body onload="init()">
    <h3>마우스를 누른 채 드래깅하여 그림 그려 보세요</h3>
    <hr>

    <canvas id="myCanvas" style="background-color: aliceblue" width="400" height="300"></canvas>

    <script>
        let canvas, context;

        function init() {
            canvas = document.getElementById("myCanvas");
            context = canvas.getContext("2d");

            context.lineWidth = 2;
            context.strokeStyle = "pink";

            canvas.addEventListener("mousedown", down, false);
            canvas.addEventListener("mouseup", up, false);
            canvas.addEventListener("mousemove", move, false);
            canvas.addEventListener("mouseout", out, false);
        }

        let startX = 0, startY = 0; // 드래깅동안, 처음 마우스가 눌러진 좌표
        let dragging = false;

        function draw(curX, curY) {
            context.beginPath();
            context.moveTo(startX, startY);
            context.lineTo(curX, curY);
            context.stroke();
        }

        function down(e) {
            startX = e.offsetX;
            startY = e.offsetY;
            dragging = true;
        }

        function up() {
            dragging = false;
        }

        function move(e) {
            if (!dragging) return; // 마우스가 눌러지지 않았으면 리턴
            let curX = e.offsetX,
                curY = e.offsetY;
            draw(curX, curY);
            startX = curX;
            startY = curY;
        }

        function out() {
            dragging = false;
        }
    </script>
</body>


</script>
</body>
</html>